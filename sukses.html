<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO -->
  <title>Order Sukses | Warung Ngemil</title>
  <meta name="description" content="Terima kasih sudah memesan di Warung Ngemil. Pesanan kamu sedang diproses." />
  <link rel="canonical" href="https://mhddedi24.github.io/warung-ngemil/sukses.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="Order Sukses | Warung Ngemil" />
  <meta property="og:description" content="Terima kasih sudah memesan di Warung Ngemil. Pesanan kamu sedang diproses." />
  <meta property="og:url" content="https://mhddedi24.github.io/warung-ngemil/sukses.html" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://mhddedi24.github.io/warung-ngemil/img/bg.jpg" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Order Sukses | Warung Ngemil" />
  <meta name="twitter:description" content="Terima kasih sudah memesan di Warung Ngemil. Pesanan kamu sedang diproses." />
  <meta name="twitter:image" content="https://mhddedi24.github.io/warung-ngemil/img/bg.jpg" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPRGS5HW2E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-KPRGS5HW2E');
  </script>

  <!-- Schema: Organization + WebSite + LocalBusiness -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://mhddedi24.github.io/warung-ngemil/#org",
        "name": "Warung Ngemil",
        "url": "https://mhddedi24.github.io/warung-ngemil/",
        "founder": "Muhamad Dedi",
        "sameAs": []
      },
      {
        "@type": "WebSite",
        "@id": "https://mhddedi24.github.io/warung-ngemil/#website",
        "url": "https://mhddedi24.github.io/warung-ngemil/",
        "name": "Warung Ngemil",
        "publisher": { "@id": "https://mhddedi24.github.io/warung-ngemil/#org" },
        "inLanguage": "id-ID"
      },
      {
        "@type": "LocalBusiness",
        "@id": "https://mhddedi24.github.io/warung-ngemil/#business",
        "name": "Warung Ngemil",
        "url": "https://mhddedi24.github.io/warung-ngemil/",
        "telephone": "+62-895-4050-90125",
        "priceRange": "Rp",
        "image": "https://mhddedi24.github.io/warung-ngemil/img/bg.jpg",
        "areaServed": "Tangerang"
      }
    ]
  }
  </script>

  <!-- Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://mhddedi24.github.io/warung-ngemil/" },
      { "@type": "ListItem", "position": 2, "name": "Sukses", "item": "https://mhddedi24.github.io/warung-ngemil/sukses.html" }
    ]
  }
  </script>

  <style>
    body {
      font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;
      background: #fffaf0;
      margin: 0;
      color: #1a1a1a;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      overflow-x: hidden;
    }

    header {
      width: 100%;
      background: linear-gradient(90deg,#ff8a00 0%, #ffb84d 100%);
      padding: 12px 16px;
      position: fixed;
      top: 0;
      box-shadow: 0 4px 16px rgba(0,0,0,0.15);
      z-index: 10;
    }

    nav {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      row-gap: 12px;
    }

    .brand-box {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.1rem;
      font-weight: 700;
      color: #1a1a1a;
      letter-spacing: -0.03em;
    }

    .brand-tag {
      font-size: 0.7rem;
      font-weight: 500;
      color: #4a2b00;
      background: #fff;
      border-radius: 6px;
      padding: 4px 8px;
      line-height: 1.2;
      border: 1px solid rgba(0,0,0,0.08);
    }

    .box {
      background: #fff;
      border: 1px solid #ffd27a;
      border-radius: 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      padding: 50px 30px;
      max-width: 420px;
      margin-top: 100px;
      text-align: center;
      animation: fadeIn 0.8s ease-out;
      z-index: 1;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      color: #ff8a00;
      font-size: 1.8rem;
      margin-bottom: 12px;
    }

    p {
      color: #555;
      font-size: 0.95rem;
      line-height: 1.5;
      margin: 0;
    }

    .btn {
      display: block;
      text-decoration: none;
      color: #fff;
      background: #1a1a1a;
      padding: 12px;
      border-radius: 10px;
      font-weight: 600;
      margin-top: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: background 0.3s ease;
    }

    .btn:hover { background: #ff8a00; }

    .btn.alt {
      margin-top:10px;
      background:#ff8a00;
    }

    .btn.alt:hover { background:#1a1a1a; }

    .icon {
      font-size: 3rem;
      margin-bottom: 10px;
      animation: pop 0.6s ease-out;
    }

    @keyframes pop {
      0% { transform: scale(0.6); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #ffb84d;
      top: -10px;
      animation: fall 3s linear infinite;
      opacity: 0.9;
      z-index: 0;
    }

    @keyframes fall {
      to { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    footer {
      text-align: center;
      color: #999;
      font-size: 0.8rem;
      margin-top: 22px;
      padding-bottom: 20px;
      z-index: 1;
    }
  </style>
</head>

<body>

  <header>
    <nav>
      <div class="brand-box">
        <div>Warung Ngemil</div>
        <div class="brand-tag">Snack Time!</div>
      </div>
    </nav>
  </header>

  <div id="confetti-container"></div>

  <main class="box">
    <div class="icon">‚úÖ</div>
    <h1>Pesanan Berhasil!</h1>
    <p>
      Terima kasih sudah order di <b>Warung Ngemil</b> üçø<br />
      Tim kami akan segera memproses pesananmu.<br />
      Pastikan tetap buka WhatsApp untuk konfirmasi ya.
    </p>

    <a href="index.html" class="btn">‚¨ÖÔ∏è Kembali ke Beranda</a>
    <a href="produk.html" class="btn alt">üõí Lihat Produk Lagi</a>
  </main>

  <footer>¬© 2025 Warung Ngemil ‚Äî dibuat oleh Muhamad Dedi</footer>

  <script>
    // confetti simple
    const container = document.getElementById('confetti-container');
    for (let i = 0; i < 20; i++) {
      const conf = document.createElement('div');
      conf.classList.add('confetti');
      conf.style.left = Math.random() * 100 + 'vw';
      conf.style.background = ['#ff8a00','#ffb84d','#fff176','#ffe0a8'][Math.floor(Math.random()*4)];
      conf.style.animationDuration = (2 + Math.random() * 3) + 's';
      conf.style.width = conf.style.height = (6 + Math.random() * 6) + 'px';
      container.appendChild(conf);
    }

    // --- GA4: mark "purchase/lead" ONCE per session ---
    // NOTE: ini sebenarnya "lead" (WhatsApp order), bukan pembayaran online.
    // Tetap boleh pakai purchase untuk tugas, tapi value harus masuk akal.
    const leadKey = "wn_purchase_tracked";
    if (typeof gtag === "function" && !sessionStorage.getItem(leadKey)) {
      // coba ambil total dari query string jika ada (lebih valid daripada value=1)
      const params = new URLSearchParams(window.location.search);
      const total = parseInt(params.get("total") || "0", 10) || 0;

      gtag('event', 'purchase', {
        transaction_id: String(Date.now()),
        currency: 'IDR',
        value: total > 0 ? total : 0,
        items: [
          {
            item_name: 'Pesanan Warung Ngemil',
            price: total > 0 ? total : 0,
            quantity: 1
          }
        ]
      });

      sessionStorage.setItem(leadKey, "1");
    }
  </script>

</body>
</html>
